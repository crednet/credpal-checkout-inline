<!DOCTYPE html>
<html>

<head>
    <script type="text/javascript" src="https://corporate-loans.obs.sa-brazil-1.myhuaweicloud.com/minifiedJS/index.js"></script>

    <style>
     .container {
  height: 400px;
  position: relative;
  
}

.center {
  margin: 0;
  position: absolute;
  top: 50%;
  left: 50%;
  -ms-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}

#button {
background-color: #274FED;
color: #fff;
padding: 15px;
border: 1px solid #274FED;
border-radius: 6px;
}

input:invalid {
    border: 3px solid red;
}

input[type=text] {
  width: 100%;
  padding: 12px 20px;
  margin: 8px 0;
  box-sizing: border-box;
}
</style>
</head>

<div class="container center">
    <form >
        <label for="description">Product Description:</label><br>
        <input type="text" id="description" name="description" value="MacBook Pro 2024"><br>
        <br>
        <label for="amount">Amount:</label>
        <br>
        <input type="text" id="amount" name="amount" pattern="[0-9]+" value="200">
      </form>
      <br>
    <button class="" id="button" onclick="payWithCredPal()" type="button">Pay With CredPal</button>

</div>

<body>
    <script>
        const payWithCredPal = () => {
            const description = document.getElementById("description").value;
            const amount = document.getElementById("amount").value;
            console.log(amount)
            console.log(description)
            const checkout = new Checkout({
                key: '9a783786-e22b-4bb0-8ad4-639a87a4bb1c', //Your Key
                amount: Number(amount),
                product: description,
                onClose: () => console.log("Widget closed"),
                onLoad: () => console.log("Widget loaded successfully"),
                onError: (error) => console.log(error),
                onSuccess: (data) => {
                    success(data)
                    checkout.close()
                }
            });
            checkout.setup();

            return checkout.open();
        }

        const success = (data) => console.log(data)
    </script>
</body>

</html>
